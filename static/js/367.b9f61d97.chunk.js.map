{"version":3,"file":"static/js/367.b9f61d97.chunk.js","mappings":"oNACA,SAAgB,aAAe,4BAA4B,aAAe,4BAA4B,kBAAoB,iCAAiC,YAAc,2BAA2B,MAAQ,qBAAqB,YAAc,2BAA2B,YAAc,2BAA2B,OAAS,sBAAsB,UAAY,yBAAyB,aAAe,4BAA4B,YAAc,2BAA2B,IAAM,mBAAmB,YAAc,2BAA2B,SAAW,wBAAwB,IAAM,mBAAmB,WAAa,0BAA0B,QAAU,uBAAuB,mBAAqB,mC,iDCYtqB,MAuIA,EAvIcA,KACZ,MAAMC,GAAiBC,EAAAA,EAAAA,IAAYC,EAAAA,IAC7BC,GAAsBF,EAAAA,EAAAA,IAAYG,EAAAA,KAEjCC,EAAWC,IAAgBC,EAAAA,EAAAA,UAAS,YAErCC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAEXC,GAAmBC,EAAAA,EAAAA,cAAY,KACnCL,GAASM,EAAAA,EAAAA,OACTJ,EAAS,WAAW,GACnB,CAACF,EAAUE,KAEdK,EAAAA,EAAAA,YAAU,KACR,MAAMC,EAAkBC,IACJ,WAAdA,EAAMC,KACRN,GACF,EAGF,OADAO,OAAOC,iBAAiB,UAAWJ,GAC5B,KACLG,OAAOE,oBAAoB,UAAWL,EAAe,CACtD,GACA,CAACJ,KAEJG,EAAAA,EAAAA,YAAU,KACRP,GAASc,EAAAA,EAAAA,IAAiBtB,GAAgB,GACzC,CAACQ,EAAUR,IAEd,MAAMuB,EAAkBC,IACtBlB,EAAakB,EAAI,EAGnB,OAAOC,EAAAA,cACLC,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAIC,aAAcC,QAASlB,EAAiBmB,UAC1DL,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAII,aAAcF,QAAUG,GAAMA,EAAEC,kBAAkBH,UACpEI,EAAAA,EAAAA,MAAA,OAAKR,UAAWC,EAAIQ,kBAAkBL,SAAA,EACpCI,EAAAA,EAAAA,MAAA,OAAKR,UAAWC,EAAIS,YAAYN,SAAA,EAC9BL,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAIU,MAAMP,SAAqB,OAAnB5B,QAAmB,IAAnBA,OAAmB,EAAnBA,EAAqBoC,QAChDb,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAIY,YAAaV,QAASlB,EAAiBmB,UACzDL,EAAAA,EAAAA,KAAA,OAAKe,MAAM,KAAKC,OAAO,KAAIX,UACzBL,EAAAA,EAAAA,KAAA,OAAKiB,UAAS,GAAAC,OAAKC,EAAAA,EAAM,oBAK/BV,EAAAA,EAAAA,MAAA,OAAKR,UAAWC,EAAIkB,UAAUf,SAAA,EAC5BI,EAAAA,EAAAA,MAAA,OAAKR,UAAWC,EAAImB,YAAYhB,SAAA,EAC9BI,EAAAA,EAAAA,MAAA,OAAKR,UAAWC,EAAIoB,OAAOjB,SAAA,EACzBL,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAIqB,UAAUlB,UAC5BL,EAAAA,EAAAA,KAAA,OAAKe,MAAM,KAAKC,OAAO,KAAIX,UACzBL,EAAAA,EAAAA,KAAA,OAAKiB,UAAS,GAAAC,OAAKC,EAAAA,EAAM,mBAG7BV,EAAAA,EAAAA,MAAA,KAAGR,UAAWC,EAAIsB,aAAanB,SAAA,CACT,OAAnB5B,QAAmB,IAAnBA,OAAmB,EAAnBA,EAAqBgD,OAAO,KACT,OAAnBhD,QAAmB,IAAnBA,OAAmB,EAAnBA,EAAqBiD,QAAQC,QAAS,EAAE,mBAI7ClB,EAAAA,EAAAA,MAAA,OAAKR,UAAWC,EAAIoB,OAAOjB,SAAA,EACzBL,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAIqB,UAAUlB,UAC5BL,EAAAA,EAAAA,KAAA,OAAKe,MAAM,KAAKC,OAAO,KAAIX,UACzBL,EAAAA,EAAAA,KAAA,OAAKiB,UAAS,GAAAC,OAAKC,EAAAA,EAAM,mBAG7BnB,EAAAA,EAAAA,KAAA,KAAAK,SAAuB,OAAnB5B,QAAmB,IAAnBA,OAAmB,EAAnBA,EAAqBmD,kBAI7BnB,EAAAA,EAAAA,MAAA,KAAGR,UAAWC,EAAIU,MAAMP,SAAA,CAAC,SAAqB,OAAnB5B,QAAmB,IAAnBA,OAAmB,EAAnBA,EAAqBoD,UAEhDpB,EAAAA,EAAAA,MAAA,OAAKR,UAAWC,EAAI4B,IAAIzB,SAAA,EACtBL,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAI6B,WAAW1B,UAC7BL,EAAAA,EAAAA,KAAA,OACEC,UAAWC,EAAI8B,QACfC,IAAwB,OAAnBxD,QAAmB,IAAnBA,OAAmB,EAAnBA,EAAqByD,QAAQ,GAClCC,IAAI,cAGRnC,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAI6B,WAAW1B,UAC7BL,EAAAA,EAAAA,KAAA,OACEC,UAAWC,EAAI8B,QACfC,IAAwB,OAAnBxD,QAAmB,IAAnBA,OAAmB,EAAnBA,EAAqByD,QAAQ,GAClCC,IAAI,cAGRnC,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAI6B,WAAW1B,UAC7BL,EAAAA,EAAAA,KAAA,OACEC,UAAWC,EAAI8B,QACfC,IAAwB,OAAnBxD,QAAmB,IAAnBA,OAAmB,EAAnBA,EAAqByD,QAAQ,GAClCC,IAAI,iBAKVnC,EAAAA,EAAAA,KAAA,KAAGC,UAAWC,EAAIkC,YAAY/B,SACR,OAAnB5B,QAAmB,IAAnBA,OAAmB,EAAnBA,EAAqB2D,eAGxB3B,EAAAA,EAAAA,MAAA,OAAKR,UAAWC,EAAImC,IAAIhC,SAAA,EACtBI,EAAAA,EAAAA,MAAC6B,EAAAA,GAAI,CACHC,GAAE,YAAArB,OAAc5C,EAAc,aAC9B2B,UAAWC,EAAIsC,SACfpC,QAASA,IAAMP,EAAe,YAAYQ,SAAA,CAC3C,WAEgB,aAAd1B,IACCqB,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAIuC,yBAGxBhC,EAAAA,EAAAA,MAAC6B,EAAAA,GAAI,CACHC,GAAE,YAAArB,OAAc5C,EAAc,YAC9B2B,UAAWC,EAAIsC,SACfpC,QAASA,IAAMP,EAAe,WAAWQ,SAAA,CAC1C,UAEgB,YAAd1B,IACCqB,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAIuC,4BAI1BzC,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAIwC,eACpB1C,EAAAA,EAAAA,KAAC2C,EAAAA,SAAQ,CAACC,UAAU5C,EAAAA,EAAAA,KAAA,OAAAK,SAAK,gBAAkBA,UACzCL,EAAAA,EAAAA,KAAC6C,EAAAA,GAAM,gBAMjBC,SAASC,eAAe,cACzB,C","sources":["webpack://app-rental-of-campers-react/./src/components/Modal/Modal.module.css?28d7","components/Modal/Modal.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"modalOverlay\":\"Modal_modalOverlay__3-7IA\",\"modalContent\":\"Modal_modalContent__LxD7C\",\"modalContentInner\":\"Modal_modalContentInner__t1UpI\",\"modalHeader\":\"Modal_modalHeader__A8TPJ\",\"title\":\"Modal_title__zJLbR\",\"closeButton\":\"Modal_closeButton__mcJWC\",\"cardReviews\":\"Modal_cardReviews__ezCIK\",\"review\":\"Modal_review__nPlmA\",\"thumbnail\":\"Modal_thumbnail__Epae+\",\"reviewRating\":\"Modal_reviewRating__rrfbJ\",\"description\":\"Modal_description__168In\",\"add\":\"Modal_add__GNP8c\",\"detailsLine\":\"Modal_detailsLine__u4z9+\",\"features\":\"Modal_features__8qcpG\",\"img\":\"Modal_img__Zb1Ws\",\"cardImgBox\":\"Modal_cardImgBox__BsbwD\",\"cardImg\":\"Modal_cardImg__LIR7n\",\"activeTabIndicator\":\"Modal_activeTabIndicator__Xa4Zx\"};","import ReactDOM from \"react-dom\";\r\nimport React, { Suspense, useCallback, useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { closeModal } from \"../../store/modalSlice\";\r\nimport {\r\n  selectselectedCard,\r\n  selectSelectedCatalogItemId,\r\n} from \"../../store/selectors\";\r\nimport css from \"./Modal.module.css\";\r\nimport sprite from \"../../utils/svg/sprite.svg\";\r\nimport { fetchCatalogById } from \"../../store/operations\";\r\nimport { Link, Outlet, useNavigate } from \"react-router-dom\";\r\n\r\nconst Modal = () => {\r\n  const selectedItemId = useSelector(selectSelectedCatalogItemId);\r\n  const selectedCardCatalog = useSelector(selectselectedCard);\r\n\r\n  const [activeTab, setActiveTab] = useState(\"features\");\r\n\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const handleCloseModal = useCallback(() => {\r\n    dispatch(closeModal());\r\n    navigate(`/catalog`);\r\n  }, [dispatch, navigate]);\r\n\r\n  useEffect(() => {\r\n    const handleKeyPress = (event) => {\r\n      if (event.key === \"Escape\") {\r\n        handleCloseModal();\r\n      }\r\n    };\r\n    window.addEventListener(\"keydown\", handleKeyPress);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleKeyPress);\r\n    };\r\n  }, [handleCloseModal]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchCatalogById(selectedItemId));\r\n  }, [dispatch, selectedItemId]);\r\n\r\n  const handleTabClick = (tab) => {\r\n    setActiveTab(tab);\r\n  };\r\n\r\n  return ReactDOM.createPortal(\r\n    <div className={css.modalOverlay} onClick={handleCloseModal}>\r\n      <div className={css.modalContent} onClick={(e) => e.stopPropagation()}>\r\n        <div className={css.modalContentInner}>\r\n          <div className={css.modalHeader}>\r\n            <h2 className={css.title}>{selectedCardCatalog?.name}</h2>\r\n            <div className={css.closeButton} onClick={handleCloseModal}>\r\n              <svg width=\"32\" height=\"32\">\r\n                <use xlinkHref={`${sprite}#close`} />\r\n              </svg>\r\n            </div>\r\n          </div>\r\n\r\n          <div className={css.modalBody}>\r\n            <div className={css.cardReviews}>\r\n              <div className={css.review}>\r\n                <div className={css.thumbnail}>\r\n                  <svg width=\"16\" height=\"16\">\r\n                    <use xlinkHref={`${sprite}#raiting`} />\r\n                  </svg>\r\n                </div>\r\n                <p className={css.reviewRating}>\r\n                  {selectedCardCatalog?.rating}(\r\n                  {selectedCardCatalog?.reviews.length - 8} Reviews)\r\n                </p>\r\n              </div>\r\n\r\n              <div className={css.review}>\r\n                <div className={css.thumbnail}>\r\n                  <svg width=\"16\" height=\"16\">\r\n                    <use xlinkHref={`${sprite}#map-pin`} />\r\n                  </svg>\r\n                </div>\r\n                <p>{selectedCardCatalog?.location}</p>\r\n              </div>\r\n            </div>\r\n\r\n            <p className={css.title}>â‚¬{selectedCardCatalog?.price}</p>\r\n\r\n            <div className={css.img}>\r\n              <div className={css.cardImgBox}>\r\n                <img\r\n                  className={css.cardImg}\r\n                  src={selectedCardCatalog?.gallery[0]}\r\n                  alt=\"camper\"\r\n                />\r\n              </div>\r\n              <div className={css.cardImgBox}>\r\n                <img\r\n                  className={css.cardImg}\r\n                  src={selectedCardCatalog?.gallery[1]}\r\n                  alt=\"camper\"\r\n                />\r\n              </div>\r\n              <div className={css.cardImgBox}>\r\n                <img\r\n                  className={css.cardImg}\r\n                  src={selectedCardCatalog?.gallery[2]}\r\n                  alt=\"camper\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <p className={css.description}>\r\n              {selectedCardCatalog?.description}\r\n            </p>\r\n\r\n            <div className={css.add}>\r\n              <Link\r\n                to={`/catalog/${selectedItemId}/features`}\r\n                className={css.features}\r\n                onClick={() => handleTabClick(\"features\")}\r\n              >\r\n                Features\r\n                {activeTab === \"features\" && (\r\n                  <div className={css.activeTabIndicator}></div>\r\n                )}\r\n              </Link>\r\n              <Link\r\n                to={`/catalog/${selectedItemId}/reviews`}\r\n                className={css.features}\r\n                onClick={() => handleTabClick(\"reviews\")}\r\n              >\r\n                Reviews\r\n                {activeTab === \"reviews\" && (\r\n                  <div className={css.activeTabIndicator}></div>\r\n                )}\r\n              </Link>\r\n            </div>\r\n            <div className={css.detailsLine}></div>\r\n            <Suspense fallback={<div>Loading ...</div>}>\r\n              <Outlet />\r\n            </Suspense>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>,\r\n    document.getElementById(\"modal-root\")\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n"],"names":["Modal","selectedItemId","useSelector","selectSelectedCatalogItemId","selectedCardCatalog","selectselectedCard","activeTab","setActiveTab","useState","dispatch","useDispatch","navigate","useNavigate","handleCloseModal","useCallback","closeModal","useEffect","handleKeyPress","event","key","window","addEventListener","removeEventListener","fetchCatalogById","handleTabClick","tab","ReactDOM","_jsx","className","css","modalOverlay","onClick","children","modalContent","e","stopPropagation","_jsxs","modalContentInner","modalHeader","title","name","closeButton","width","height","xlinkHref","concat","sprite","modalBody","cardReviews","review","thumbnail","reviewRating","rating","reviews","length","location","price","img","cardImgBox","cardImg","src","gallery","alt","description","add","Link","to","features","activeTabIndicator","detailsLine","Suspense","fallback","Outlet","document","getElementById"],"sourceRoot":""}